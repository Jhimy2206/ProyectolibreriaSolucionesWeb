<h2 class="text-center">EDITAR LIBRO</h2>

<form (ngSubmit)="actualizarLibro()" #libroForm="ngForm">
  <div class="form-group">
    <label for="titulo">Título:</label>
    <input 
      type="text" 
      id="titulo"
      name="titulo"
      [(ngModel)]="libroEditado.titulo"
      required
      #tituloInput="ngModel">
    <div *ngIf="tituloInput.invalid && (tituloInput.dirty || tituloInput.touched)" class="alert alert-danger">
      <div *ngIf="tituloInput.errors?.['required']">El título es requerido</div>
    </div>
  </div>

  <div class="form-group">
    <label for="autor">Autor:</label>
    <input 
      type="text" 
      id="autor"
      name="autor"
      [(ngModel)]="libroEditado.autor"
      required
      #autorInput="ngModel">
    <div *ngIf="autorInput.invalid && (autorInput.dirty || autorInput.touched)" class="alert alert-danger">
      <div *ngIf="autorInput.errors?.['required']">El autor es requerido</div>
    </div>
  </div>

  <div class="form-group">
    <label for="anio">Año:</label>
    <input 
      type="number" 
      id="anio"
      name="anio"
      [(ngModel)]="libroEditado.anio"
      required
      #anioInput="ngModel">
    <div *ngIf="anioInput.invalid && (anioInput.dirty || anioInput.touched)" class="alert alert-danger">
      <div *ngIf="anioInput.errors?.['required']">El año es requerido</div>
    </div>
  </div>

  <div class="form-group">
    <label for="categoria">Categoría:</label>
    <select 
      id="categoria"
      name="categoria"
      [(ngModel)]="libroEditado.categoria.id"
      required
      #categoriaInput="ngModel">
      <option value="">Seleccione una categoría</option>
      <option *ngFor="let cat of categorias" [value]="cat.id">
        {{cat.nombre}}
      </option>
    </select>
    <div *ngIf="categoriaInput.invalid && (categoriaInput.dirty || categoriaInput.touched)" class="alert alert-danger">
      <div *ngIf="categoriaInput.errors?.['required']">La categoría es requerida</div>
    </div>
  </div>

  <button 
    type="submit" 
    class="btn btn-primary"
    [disabled]="!libroForm.form.valid">
    Actualizar Libro
  </button>
</form>
